<head th:replace="includes/head :: head"></head>

<!--Main Navigation-->
<header th:replace="includes/navigation :: navbar"></header>
<link rel="stylesheet" th:href="@{/scss/seatBooking.css}" />
<div class="container mt-5 pt-5">
    <div class="row">
        <div class="col-sm-12">
            <div class="row">

                <div class="col-sm-8">
                    <div class="container px-5">
                        <ol class="hall">
                            <li class="rinda" th:each="i : ${#numbers.sequence(sesija.GetHall().GetRows(), 1, -1)}">
                                <ol class="seats" type="A">
                                    <li class="seat" th:each="j : ${#numbers.sequence(1, sesija.GetHall().GetCols())}" th:title="${i} + '. rinda ' + ${j} + '. sÄ“dvieta'">
                                        <input type="checkbox" class="seatCheckBox" th:id="${i} + '' + ${j}" onchange="checkBoxToggle(this)"/>
                                        <label th:for="${i} + '' + ${j}"></label>
                                    </li>
                                </ol>
                            </li>
                        </ol>
                    </div>
                    <div class="d-flex justify-content-center info-color mt-5 py-3">
                        <strong class="white-text">SCREEN</strong>
                    </div>
                </div>

                <div class="col-sm-4">
                    <form>
                        <h2>Your tickets</h2>
                        <h4>Total price: <strong id="totalPrice">0.00$</strong></h4>

                        <!-- Material input text -->
                        <div class="md-form">
                            <i class="fa fa-user prefix grey-text"></i>
                            <input type="text" id="firstNameForm" class="form-control">
                            <label for="firstNameForm">First name</label>
                        </div>

                        <!-- Material input text -->
                        <div class="md-form">
                            <i class="fa fa-user prefix grey-text"></i>
                            <input type="text" id="lastNameForm" class="form-control">
                            <label for="lastNameForm">Last name</label>
                        </div>

                        <!-- Material input email -->
                        <div class="md-form">
                            <i class="fa fa-envelope prefix grey-text"></i>
                            <input type="email" id="emailForm" class="form-control">
                            <label for="emailForm">Your email</label>
                        </div>

                        <!-- Material input email -->
                        <div class="md-form">
                            <i class="fa fa-exclamation-triangle prefix grey-text"></i>
                            <input type="email" id="emailConfirmForm" class="form-control">
                            <label for="emailConfirmForm">Confirm your email</label>
                        </div>


                        <div class="text-center mt-4">
                            <button class="btn btn-primary" type="submit">Purchase</button>
                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>

</div>
</div>

<footer th:replace="includes/footer :: footer"></footer>
<script>
    var price = 0;
    function checkBoxToggle(element){
        if(element.checked){
            price += [[${sesija.GetPrice()}]];
            console.log('Adding price!');
        }else {
            console.log('Subtracting price!');
            price -= [[${sesija.GetPrice()}]];
        }
        $("#totalPrice").text(Number(price).toFixed(2) + "$");
    }
</script>